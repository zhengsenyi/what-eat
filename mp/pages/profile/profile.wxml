<view class="container-profile">
  <!-- èƒŒæ™¯è£…é¥° -->
  <view class="bg-decoration">
    <view class="bg-wave"></view>
  </view>

  <view class="main-card fade-in">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <view class="header">
      <view class="header-left">
        <text class="page-title">æˆ‘çš„</text>
      </view>
      <view class="header-right">
        <view class="settings-btn" bindtap="openSettings">
          <text class="settings-icon">âš™ï¸</text>
        </view>
      </view>
    </view>
    
    <scroll-view scroll-y class="content-scroll" enhanced="{{true}}" show-scrollbar="{{false}}">
      <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
      <view class="user-card">
        <view class="user-info">
          <view class="avatar-wrapper">
            <view class="avatar-container">
              <text class="avatar-icon">{{userInfo.avatarText || 'ğŸ‘¤'}}</text>
            </view>
            <view class="avatar-badge">
              <text class="badge-icon">ğŸ‘‘</text>
            </view>
          </view>
          <view class="user-details">
            <text class="user-name">{{userInfo.nickName || 'ç¾é£Ÿæ¢ç´¢å®¶'}}</text>
            <view class="level-badge">
              <text class="level-icon">â­</text>
              <text class="level-text">{{userInfo.level || 'é»„é‡‘ä¼šå‘˜'}}</text>
            </view>
          </view>
        </view>
        <view class="edit-btn" bindtap="editProfile">
          <text class="edit-text">ç¼–è¾‘</text>
          <text class="edit-arrow">â€º</text>
        </view>
      </view>

      <!-- ç»Ÿè®¡å¡ç‰‡ -->
      <view class="stats-card">
        <view class="stats-header">
          <text class="stats-title">ğŸ“Š æœ¬æœˆæ•°æ®</text>
          <text class="stats-date">{{currentMonth}}</text>
        </view>
        <view class="stats-grid">
          <view class="stat-item" bindtap="viewDrawHistory">
            <text class="stat-value">{{stats.monthlyDraws || 0}}</text>
            <text class="stat-label">æœ¬æœˆæŠ½é€‰</text>
            <view class="stat-trend up" wx:if="{{stats.drawTrend > 0}}">
              <text class="trend-icon">â†‘</text>
              <text class="trend-value">{{stats.drawTrend}}%</text>
            </view>
          </view>
          <view class="stat-divider"></view>
          <view class="stat-item" bindtap="viewNewTries">
            <text class="stat-value">{{stats.newTries || 0}}</text>
            <text class="stat-label">æ–°å°è¯•</text>
            <view class="stat-badge">
              <text class="badge-text">+{{stats.newTriesThisWeek || 0}}æœ¬å‘¨</text>
            </view>
          </view>
          <view class="stat-divider"></view>
          <view class="stat-item" bindtap="viewFavorites">
            <text class="stat-value">{{stats.favorites || 0}}</text>
            <text class="stat-label">æ”¶è—é¤å…</text>
          </view>
        </view>
      </view>

      <!-- åŠŸèƒ½èœå• -->
      <view class="menu-section">
        <text class="menu-section-title">å¸¸ç”¨åŠŸèƒ½</text>
        <view class="menu-card">
          <view class="menu-item" bindtap="goToFavorites">
            <view class="menu-icon-wrapper favorites">
              <text class="menu-icon">â¤ï¸</text>
            </view>
            <view class="menu-content">
              <text class="menu-text">æ”¶è—é¤å…</text>
              <text class="menu-desc">{{stats.favorites || 0}}å®¶é¤å…</text>
            </view>
            <text class="menu-arrow">â€º</text>
          </view>
          <view class="menu-item" bindtap="goToHistory">
            <view class="menu-icon-wrapper history">
              <text class="menu-icon">ğŸ•’</text>
            </view>
            <view class="menu-content">
              <text class="menu-text">æŠ½é€‰å†å²</text>
              <text class="menu-desc">æŸ¥çœ‹æ‰€æœ‰è®°å½•</text>
            </view>
            <text class="menu-arrow">â€º</text>
          </view>
          <view class="menu-item" bindtap="goToPreferences">
            <view class="menu-icon-wrapper preferences">
              <text class="menu-icon">ğŸ¯</text>
            </view>
            <view class="menu-content">
              <text class="menu-text">åå¥½è®¾ç½®</text>
              <text class="menu-desc">å£å‘³ã€é¢„ç®—ã€è·ç¦»</text>
            </view>
            <text class="menu-arrow">â€º</text>
          </view>
        </view>
      </view>

      <!-- ç³»ç»Ÿèœå• -->
      <view class="menu-section">
        <text class="menu-section-title">æ›´å¤š</text>
        <view class="menu-card">
          <view class="menu-item" bindtap="goToFeedback">
            <view class="menu-icon-wrapper feedback">
              <text class="menu-icon">ğŸ’¬</text>
            </view>
            <view class="menu-content">
              <text class="menu-text">æ„è§åé¦ˆ</text>
              <text class="menu-desc">å¸®åŠ©æˆ‘ä»¬æ”¹è¿›</text>
            </view>
            <text class="menu-arrow">â€º</text>
          </view>
          <view class="menu-item" bindtap="goToAbout">
            <view class="menu-icon-wrapper about">
              <text class="menu-icon">â„¹ï¸</text>
            </view>
            <view class="menu-content">
              <text class="menu-text">å…³äºæˆ‘ä»¬</text>
              <text class="menu-desc">ç‰ˆæœ¬ {{version}}</text>
            </view>
            <text class="menu-arrow">â€º</text>
          </view>
          <view class="menu-item" bindtap="clearCache">
            <view class="menu-icon-wrapper cache">
              <text class="menu-icon">ğŸ—‘ï¸</text>
            </view>
            <view class="menu-content">
              <text class="menu-text">æ¸…é™¤ç¼“å­˜</text>
              <text class="menu-desc">{{cacheSize}}</text>
            </view>
            <text class="menu-arrow">â€º</text>
          </view>
        </view>
      </view>

      <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
      <view class="logout-section">
        <button class="btn-logout" bindtap="logout">
          <text class="logout-icon">ğŸšª</text>
          <text class="logout-text">é€€å‡ºç™»å½•</text>
        </button>
      </view>

      <!-- åº•éƒ¨ç‰ˆæƒä¿¡æ¯ -->
      <view class="footer">
        <text class="footer-text">åƒå•¥ç›²ç›’ Â© 2024</text>
        <text class="footer-slogan">è®©ç¾é£Ÿé€‰æ‹©å˜å¾—æœ‰è¶£</text>
      </view>

      <!-- åº•éƒ¨å®‰å…¨åŒºåŸŸ -->
      <view class="safe-bottom"></view>
    </scroll-view>
  </view>
</view>
